diff --git a/zlib.h b/zlib.h
index 8d4b932eaf..75805d22ef 100644
--- a/zlib.h
+++ b/zlib.h
@@ -1,3 +1,25 @@
+/*
+ * zlib version 1.3.1-optipng, 2025-May-12
+ *
+ * This is a modified version of zlib.
+ * See README.optipng.txt for more information.
+ */
+
+#ifndef OPTIPNG_CONFIG_ZLIB
+#define OPTIPNG_CONFIG_ZLIB
+
+#ifndef ZLIB_CONST
+#define ZLIB_CONST
+#endif
+
+#define NO_GZCOMPRESS
+#define NO_GZIP
+
+#define TOO_FAR 32768U
+
+#endif /* OPTIPNG_CONFIG_ZLIB */
+
+
 /* zlib.h -- interface of the 'zlib' general purpose compression library
   version 1.3.1, January 22nd, 2024
 
@@ -37,12 +59,12 @@
 extern "C" {
 #endif
 
-#define ZLIB_VERSION "1.3.1"
-#define ZLIB_VERNUM 0x1310
+#define ZLIB_VERSION "1.3.1-optipng"
+#define ZLIB_VERNUM 0x131f
 #define ZLIB_VER_MAJOR 1
 #define ZLIB_VER_MINOR 3
 #define ZLIB_VER_REVISION 1
-#define ZLIB_VER_SUBREVISION 0
+#define ZLIB_VER_SUBREVISION 15
 
 /*
     The 'zlib' compression library provides in-memory compression and
